!function(){"use strict";function t(t,e,n,i){if(t=t||window,window.addEventListener){var r=i||!1;t.addEventListener(e,n,r)}else t.attachEvent("on"+e,n)}function e(e,n,i,r,o){if(e=e||window,"load"===n){o=o||20;t(e,n,(function(){var t=this;setTimeout((function(){i.call(t)}),o)}),r)}else t(e,"load:origin"===n?n=n.replace(/:origin/,""):n,i,r)}function n(t,e,n){var i,r=new Date;return function(){var o=this,a=arguments,s=new Date;void 0!==i&&clearTimeout(i),s-r>=n?(t.apply(o,a),r=s):i=setTimeout(t,e)}}function i(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t,e,n){var i=navigator.userAgent,r={isChrome:/chrome/i.test(i),isFirefox:/firefox/i.test(i),isSafari:/safari/i.test(i),isIE:/msie/i.test(i)||/trident/i.test(i),isEdge:/edge/i.test(i)};r.isChrome&&(r.isSafari=!1),r.isEdge&&(r.isChrome=!1,r.isSafari=!1);var o,a=function(e){var i,r,o,a,s=e.dataset.src||e.src,c=t(e);function l(t,e){return 0==e?t:l(e,t%e)}function u(t,e){var n;return""==t||""==e||"0"==t||"0"==e||isNaN(t)||isNaN(e)||(n=l(parseInt(t),parseInt(e))),[n,"0"!=n?t*e/n:"無意義"]}if(c.hasClass("lazy")&&(s=""),!c.hasClass("ie-hack")){var d=e.naturalWidth,f=e.naturalHeight,h=(o=u(i=0==(i=d)?1:i,r=0==(r=f)?1:r)[0],(a=n.createElement("canvas")).width=i/o,a.height=r/o,a.toDataURL());c.attr("src",h),c.css({"background-repeat":"no-repeat","background-position":"50% 50%","background-image":"url("+s+")"}),c.addClass("ie-hack")}};r.isIE&&(null==o?(t(".object-fit > img").each((function(){a(this)})),t(".object-fit-contain > img").each((function(){a(this)}))):a(o))}(jQuery,window,document),function(t,e){var n=navigator.userAgent,i={isChrome:/chrome/i.test(n),isFirefox:/firefox/i.test(n),isSafari:/safari/i.test(n),isIE:/msie/i.test(n)||/trident/i.test(n),isEdge:/edge/i.test(n)};i.isChrome&&(i.isSafari=!1),i.isEdge&&(i.isChrome=!1,i.isSafari=!1),t.lazy={};var r,o,a,s,c,l=(r=w,o=500,a=1e3,c=new Date,function(){var e=this,n=arguments,i=new Date;null!=s&&(null!=t.requestTimeout?clearRequestTimeout(s):clearTimeout(s)),i-c>=a?(r.apply(e,n),c=i):s=null!=t.requestTimeout?requestTimeout(r,o):setTimeout(r,o)});function u(){for(var t=e.querySelectorAll("[data-lazy-scroll]"),n=0;n<t.length;n++)_("scroll",l,t[n])}_("load",b),_("scroll",l),_("resize",w),_("load",u),t.lazy.scrollBind=u;var d,f=[],h="data-src",v="data-background",p="loaded",m="loaded-content",g=!1,y=!0;function b(){f=e.getElementsByClassName("lazy"),g=!0,f.length>0&&!y&&(y=!0,_("scroll",l)),w(),null!=(d=e.querySelector("[data-loadmore]"))&&(d.onclick=function(){w()})}function w(){if(!g)return!1;for(var n=0;n<f.length;n++)if(u=f[n],d=void 0,(d=u.getBoundingClientRect()).width>0&&d.height>0&&d.bottom>=0&&d.right>=0&&d.top<=(t.innerHeight||e.documentElement.clientHeight)&&d.left<=(t.innerWidth||e.documentElement.clientWidth)){var r=f[n];if(r.classList.contains("lazy-css"))r.classList.add(p),r.parentElement.classList.add(m);else{var o=r.getAttribute(h),a=r.getAttribute(v),s=o||a,c="IMG"!==r.tagName.toUpperCase();null!=s&&(i.isIE&&(r.parentElement.classList.contains("object-fit")||r.parentElement.classList.contains("object-fit-contain"))||c?r.style.backgroundImage="url("+s+")":o&&(r.src=s),r.removeAttribute(h),r.removeAttribute(v),c?(r.classList.add(p),r.parentElement.classList.add(m)):o&&(r.onload=function(){var t=this.parentElement;this.classList.add(p),t.classList.add(m);var e=t.querySelector(".swiper-lazy-preloader");e&&e.remove()},r.complete&&(r.classList.add(p),r.parentElement.classList.add(m))))}}var u,d;0===(f=Array.prototype.filter.call(f,(function(t){return!t.classList.contains(p)}))).length&&(y=!1,E("scroll",l),E("resize",w))}function _(e,n,i){var r=null!=i?i:t;t.addEventListener?r.addEventListener(e,n,!1):r.attachEvent("on"+e,n)}function E(e,n,i){var r=null!=i?i:t;t.addEventListener?r.removeEventListener(e,n,!1):r.detachEvent("on"+e,n)}t.lazy.set=b,t.lazy.load=w}(window,document),function(t,e){t.addEventListener("load",(function(){var t=new Image;t.onload=function(){t.height>0&&t.width,e.documentElement.classList.add("webp")},t.onerror=function(){e.documentElement.classList.add("no-webp")},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}))}(window,document);var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var u,d,f=(u=function(t,e){t.exports=function(){function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,r=void 0,o=void 0,a=function(t,e){w[i]=t,w[i+1]=e,2===(i+=2)&&(o?o(_):L())};function s(t){o=t}function c(t){a=t}var u="undefined"!=typeof window?window:void 0,d=u||{},f=d.MutationObserver||d.WebKitMutationObserver,h="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),v="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){return function(){return process.nextTick(_)}}function m(){return void 0!==r?function(){r(_)}:b()}function g(){var t=0,e=new f(_),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function y(){var t=new MessageChannel;return t.port1.onmessage=_,function(){return t.port2.postMessage(0)}}function b(){var t=setTimeout;return function(){return t(_,1)}}var w=new Array(1e3);function _(){for(var t=0;t<i;t+=2)(0,w[t])(w[t+1]),w[t]=void 0,w[t+1]=void 0;i=0}function E(){try{var t=Function("return this")().require("vertx");return r=t.runOnLoop||t.runOnContext,m()}catch(t){return b()}}var L=void 0;function A(t,e){var n=this,i=new this.constructor(T);void 0===i[S]&&Q(i);var r=n._state;if(r){var o=arguments[r-1];a((function(){return W(r,i,o,n._result)}))}else N(n,i,t,e);return i}function x(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(T);return B(n,t),n}L=h?p():f?g():v?y():void 0===u?E():b();var S=Math.random().toString(36).substring(2);function T(){}var k=void 0,O=1,j=2;function C(){return new TypeError("You cannot resolve a promise with itself")}function q(){return new TypeError("A promises callback cannot return that same promise.")}function z(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function I(t,e,n){a((function(t){var i=!1,r=z(n,e,(function(n){i||(i=!0,e!==n?B(t,n):P(t,n))}),(function(e){i||(i=!0,D(t,e))}),"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,D(t,r))}),t)}function $(t,e){e._state===O?P(t,e._result):e._state===j?D(t,e._result):N(e,void 0,(function(e){return B(t,e)}),(function(e){return D(t,e)}))}function H(t,n,i){n.constructor===t.constructor&&i===A&&n.constructor.resolve===x?$(t,n):void 0===i?P(t,n):e(i)?I(t,n,i):P(t,n)}function B(e,n){if(e===n)D(e,C());else if(t(n)){var i=void 0;try{i=n.then}catch(t){return void D(e,t)}H(e,n,i)}else P(e,n)}function M(t){t._onerror&&t._onerror(t._result),Y(t)}function P(t,e){t._state===k&&(t._result=e,t._state=O,0!==t._subscribers.length&&a(Y,t))}function D(t,e){t._state===k&&(t._state=j,t._result=e,a(M,t))}function N(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+O]=n,r[o+j]=i,0===o&&t._state&&a(Y,t)}function Y(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?W(n,i,r,o):r(o);t._subscribers.length=0}}function W(t,n,i,r){var o=e(i),a=void 0,s=void 0,c=!0;if(o){try{a=i(r)}catch(t){c=!1,s=t}if(n===a)return void D(n,q())}else a=r;n._state!==k||(o&&c?B(n,a):!1===c?D(n,s):t===O?P(n,a):t===j&&D(n,a))}function F(t,e){try{e((function(e){B(t,e)}),(function(e){D(t,e)}))}catch(e){D(t,e)}}var R=0;function U(){return R++}function Q(t){t[S]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}function G(){return new Error("Array Methods must be provided an Array")}var V=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(T),this.promise[S]||Q(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):D(this.promise,G())}return t.prototype._enumerate=function(t){for(var e=0;this._state===k&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===x){var r=void 0,o=void 0,a=!1;try{r=t.then}catch(t){a=!0,o=t}if(r===A&&t._state!==k)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===et){var s=new n(T);a?D(s,o):H(s,t,r),this._willSettleAt(s,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===k&&(this._remaining--,t===j?D(i,n):this._result[e]=n),0===this._remaining&&P(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,(function(t){return n._settledAt(O,e,t)}),(function(t){return n._settledAt(j,e,t)}))},t}();function J(t){return new V(this,t).promise}function K(t){var e=this;return n(t)?new e((function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function X(t){var e=new this(T);return D(e,t),e}function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function tt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var et=function(){function t(e){this[S]=U(),this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&Z(),this instanceof t?F(this,e):tt())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,i=n.constructor;return e(t)?n.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();function nt(){var t=void 0;if(void 0!==l)t=l;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=et}return et.prototype.then=A,et.all=J,et.race=K,et.resolve=x,et.reject=X,et._setScheduler=s,et._setAsap=c,et._asap=a,et.polyfill=nt,et.Promise=et,et}()},u(d={exports:{}},d.exports),d.exports),h=f.Promise;!function(t){var e=function(){function e(n){if(a(this,e),void 0===t)return!1;var i={title:"標題",text:null,confirmButtonText:null,cancelButtonText:null,clickClose:!0},r={};r=(arguments.length<=1?0:arguments.length-1)>1?{title:arguments.length<=1?void 0:arguments[1],text:arguments.length<=2?void 0:arguments[2]}:"string"==typeof(arguments.length<=1?void 0:arguments[1])?{title:arguments.length<=1?void 0:arguments[1]}:arguments.length<=1?void 0:arguments[1];var s=o(o({},i),r);return this._result=null,this._resolve=null,this._reject=null,this._init(n,s)}var n,r,c;return n=e,(r=[{key:"_init",value:function(t,e){var n=i('\t\t<div class="reveal reveal-msg" data-reveal="">\t\t\t<h3 class="reveal-msg__title text-center">標題</h3>\t\t\t<p class="reveal-msg__desc text-center"><small>敘述</small></p>\t\t\t<div class="button-box grid-x">\t\t\t</div>\t\t</div>\t'),r=$(n);n.querySelector(".reveal-msg__title").innerHTML=e.title;var o=n.querySelector(".reveal-msg__desc");e.text?o.innerHTML=e.text:o.remove();var a=n.querySelector(".button-box"),s=i('<button class="btn hollow btn-cancel" data-close="" aria-label="關閉彈窗" type="button">取消</button>'),c=i('<button class="btn btn-confirm" type="button" data-close="">確認</button>');switch(t){case"confirm":a.appendChild(s),a.appendChild(c);break;case"warning":a.appendChild(s),a.appendChild(c),c.classList.add("alert");break;case"error":a.appendChild(c),c.classList.add("alert"),c.classList.add("w-full");break;default:a.appendChild(c),c.classList.add("w-full")}var l=a.querySelector(".btn-confirm"),u=a.querySelector(".btn-cancel");e.confirmButtonText&&l&&(l.innerHTML=e.confirmButtonText),e.cancelButtonText&&u&&(u.innerHTML=e.cancelButtonText);var d={el:n,$el:r,confirmButton:l,cancelButton:u},f={closeOnClick:e.clickClose,closeOnEsc:e.clickClose};return new Foundation.Reveal(r,f),r.on("closed.zf.reveal",(function(){var t=$(this);setTimeout((function(){t.parent().remove()}),100)})),r.foundation("open"),this._result=this._promise(d)}},{key:"_promise",value:function(t){var e=this;return new h((function(n,i){e._resolve=n,e._reject=i;var r={ok:!1,cancel:!1};t.confirmButton&&t.confirmButton.addEventListener("click",(function(){r.ok=!0,n(r)})),t.cancelButton&&t.cancelButton.addEventListener("click",(function(){r.cancel=!0,n(r)})),t.$el.on("closed.zf.reveal",(function(){n(r)}))}))}}])&&s(n.prototype,r),c&&s(n,c),e}();t.popup=function(t){return 1==(arguments.length<=1?0:arguments.length-1)?new e(t,arguments.length<=1?void 0:arguments[1]):new e(t,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}}(window);var v=window.navigator.userAgent;(v.indexOf("MSIE 7.0")>0||v.indexOf("MSIE 8.0")>0||v.indexOf("MSIE 9.0")>0||v.indexOf("MSIE 10.0")>0)&&(location.href="browser.html"),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),function(t,i){var r=i.documentElement,o=t.innerWidth,a=t.innerHeight,s=0;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return(e.pageYOffset||r.scrollTop)-(r.clientTop||0)}function l(){o=t.innerWidth,a=t.innerHeight,s=c()}e(t,"load:origin",l),e(t,"resize",n(l,50,100));var u=!1,d=function(){(u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))?r.classList.add("is-mobile"):r.classList.remove("is-mobile"),navigator.userAgent.match(/Android/i)?navigator.userAgent.match(/Mobile/i):navigator.userAgent.match(/BlackBerry|iPad|Opera Mini|IEMobile/i)};d(),e(t,"resize",n(d,50,100));var f,h=navigator.userAgent,v={isChrome:/chrome/i.test(h),isFirefox:/firefox/i.test(h),isSafari:/safari/i.test(h),isIE:/msie/i.test(h)||/trident/i.test(h),isEdge:/edge/i.test(h)};for(var p in v.isChrome&&(v.isSafari=!1),v.isEdge&&(v.isChrome=!1,v.isSafari=!1),v)if(v[p]){f=p.split("is")[1],i.documentElement.classList.add(f.toLowerCase()),i.documentElement.browser=f;break}v.is=f,h.toLowerCase().match(/(iphone|ipod|ipad)/)&&r.classList.add("ios"),navigator.platform.indexOf("Win")>-1?i.documentElement.classList.add("win"):navigator.platform.indexOf("Mac")>-1&&i.documentElement.classList.add("mac");var m=null;e(t,"load:origin",(function(){m=i.querySelector("#loader"),t.loader=m})),t.pageLoading=function(){i.body.appendChild(m),setTimeout((function(){m.classList.remove("is-loaded")}),100)},t.pageLoaded=function(){m.classList.add("is-loaded"),setTimeout((function(){m.remove()}),2e3)},e(t,"load",(function(){var t=i.querySelectorAll(".svg");[].forEach.call(t,(function(t){fetchSvgInline(t)}))})),e(t,"load:origin",(function(){var e=new Notyf({ripple:!1,position:{x:"center",y:"center"}});t.notyf=e})),e(t,"load:origin",(function(){$(i).foundation(),$(i).on("open.zf.reveal","[data-reveal]",(function(){var t=$(this),e=(a-t.innerHeight())/2;e<0&&(e=0),t.css("top",e),t.blur()})),function(){var t=null,e=null,n=function(){r()};function r(){t&&$(t).foundation("close"),e&&e.off("click",n),t=null,e=null}$(i).on("show.zf.dropdown",(function(i){t=i.target,"true"===$(t).attr("data-close-on-inside-click")&&(e=$(t).find("a, button"),setTimeout((function(){e.on("click",n)}),100))})),$(i).on("hide.zf.dropdown",(function(t){r()}))}(),$(i).on("click",".dropdown-menu a, .dropdown-menu button",(function(){var t=$(this);setTimeout((function(){t.parents(".dropdown-menu").foundation("close")}),100)})),$(i).on("change.zf.tabs","[data-tabs]",(function(){t.lazy.load()}))}));var g=null,y="is-collapse",b="is-scroll-down",w="is-scroll-up",_=c(),E=null;function L(t){if(E===t)return!1;"down"===t?(A(g),A(r)):(x(g),x(r)),E=t}function A(t){t.classList.add(b),t.classList.remove(w)}function x(t){t.classList.remove(b),t.classList.add(w)}function S(){(s=c())>_?L("down"):s!==_&&L("up"),_=s,s>0?(g.classList.add(y),r.classList.add(y)):(g.classList.remove(y),r.classList.remove(y))}e(t,"load",(function(){g=i.querySelector("#header"),S(),e(t,"scroll",S)})),e(t,"load",(function(){var t=i.querySelectorAll(".js-search-group"),n="is-open",r="is-focus",o="is-searching";[].forEach.call(t,(function(t){var n=t.querySelector(".hd-search__input"),i=t.querySelector(".hd-search__btn-submit"),a=t.querySelector(".hd-search__btn-reset"),s=function(e){t.classList.add(e)},c=function(e){t.classList.remove(e)},l=function(t){(t.tagName?t:t.currentTarget).value.trim().length>0?(s(o),i.disabled=!1):(c(o),i.disabled=!0)};e(n,"focus",(function(){s(r)})),e(n,"focusout",(function(){c(r)})),e(n,"input",l),e(n,"change",(function(){var t=this;setTimeout((function(){l(t)}),20)})),e(a,"click",(function(){setTimeout((function(){l(n)}),10)}))}));var a=i.querySelector("#hd-search"),s=i.querySelectorAll(".js-search-open"),c=a.querySelectorAll("[data-close]"),l=a.querySelector(".hd-search__input"),u=function(){var t;t=n,a.classList.add(t)},d=function(){var t;t=n,a.classList.remove(t)};[].forEach.call(s,(function(t){e(t,"click",u)})),[].forEach.call(c,(function(t){e(t,"click",d)})),e(l,"focus",(function(){u()}))}));var T=!1,k=null,O="is-fixed",j="is-fixed-bottom",C="hide-shadow";function q(){k.length&&[].forEach.call(k,(function(t){if(z(t)){var e=void 0!==t.dataset.fixedTarget?i.querySelector(t.dataset.fixedTarget):void 0!==t.parentElement.dataset.fixedContainer?t.parentElement:null,n=u?56:t.dataset.marginTop?parseInt(t.dataset.marginTop):0,r=e.getBoundingClientRect(),o="bottom"===t.dataset.fixedDir?r.bottom:r.top,a="false"!==t.dataset.hideShadow;o<=n?(t.classList.add(O),a&&g.classList.add(C)):(t.classList.remove(O),a&&g.classList.remove(C)),"true"===t.dataset.detectBottom&&(r.bottom<=t.clientHeight+n?t.classList.add(j):t.classList.remove(j))}}))}function z(t){var e=void 0!==t.dataset.fixedOn?t.dataset.fixedOn:null,n=void 0!==t.dataset.fixedDown?t.dataset.fixedDown:null,i=!1,r={small:0,medium:640,large:1024,xlarge:1200,xxlarge:1440};return i=e&&e.length?o>=r[e]:o<r[n],e||n||(i=!0),i}function I(){k.length&&([].forEach.call(k,(function(t){"true"===t.dataset.detectWidth&&(z(t)?(t.style.width="",t.style.position="static",t.style.width=t.clientWidth+"px",t.style.position=""):t.style.width="")})),T||(T=!0,e(t,"scroll",q),e(t,"resize",I)),q())}function H(t){t.scrollHeight>=t.offsetHeight?t.offsetHeight+t.scrollTop>=t.scrollHeight?t.classList.add("is-end"):t.classList.remove("is-end"):t.classList.add("is-end")}e(t,"load",(function(){k=i.querySelectorAll("[data-fixed]"),I()})),e(t,"load",(function(){$(i).on("click","a[disabled]",(function(t){t.preventDefault()}))})),e(t,"load",(function(){$(i).on("click",".js-fav",(function(){this.blur(),this.classList.toggle("is-active")}))})),e(t,"load",(function(){$(i).on("click",".js-load-more",(function(){this.blur(),this.classList.toggle("is-loading")}))})),e(t,"load",(function(){$(i).on("click",".js-gotop",(function(){$("html, body").animate({scrollTop:0},550)}))})),$(i).on("open.zf.reveal","[data-reveal]",(function(){var t=i.querySelectorAll("[data-scroll-cont]");t.length&&[].forEach.call(t,(function(t){H(t)}))})),e(t,"load",(function(){var t=i.querySelectorAll("[data-scroll-cont]");t.length&&[].forEach.call(t,(function(t){t.addEventListener("scroll",(function(){H(t)}))}))}));var B=function(t){t.style.height="auto";var e=t.scrollHeight<=t.autoSize.minHeight?t.autoSize.minHeight:t.scrollHeight>=t.autoSize.maxHeight?t.autoSize.maxHeight:t.scrollHeight+t.autoSize.borderY;t.style.height=e.toString()+"px"},M=function(t){if(!t.autoSize){var e=$(t),n={el:t,$el:e,oneLine:parseInt(e.css("line-height")),paddingY:parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom")),borderY:parseInt(e.css("border-top"))+parseInt(e.css("border-bottom")),minLine:1,maxLine:3};t.setAttribute("rows",n.minLine),n.minHeight=n.minLine*n.oneLine+n.paddingY+n.borderY,n.maxHeight=n.maxLine*n.oneLine+n.paddingY+n.borderY;var i=function(){B(this)},r={resize:function(){B(t)},destroy:function(){e.off("input change",i)}};n.handler=r,t.autoSize=n,e.on("input change",i)}return t.autoSize.handler};e(t,"load",(function(){t.textareaFn=M,$("textarea").each((function(t,e){M(e)}))})),e(t,"load",(function(){var t=i.querySelectorAll(".js-count-box");[].forEach.call(t,(function(t){var e=t.querySelector("input"),n=t.querySelectorAll("button")[0],i=t.querySelectorAll("button")[1],r=e.getAttribute("min"),o=e.getAttribute("max"),a=r?parseInt(r):1,s=o?parseInt(o):999999,c={min:!1,max:!1},l=null;Object.defineProperty(c,"min",{oldValue:!1,configurable:!1,get:function(){return parseInt(e.value)<=a},set:function(t){l!==t&&(l=t,d(t))}});var d=function(t){n.disabled=!!t},f=null;Object.defineProperty(c,"max",{configurable:!1,get:function(){return parseInt(e.value)>=s},set:function(t){f!==t&&(f=t,h(t))}});var h=function(t){t?(i.disabled=!0,$(".pd-side-count__note p.error").text("已達購買上限")):(i.disabled=!1,$(".pd-side-count__note p.error").text(""))},v=function(t){var n="+"===t?parseInt(e.value)+1:parseInt(e.value)-1;e.value=p(n),e.dispatchEvent(new Event("change"))},p=function(t){return t<=a?(c.min=!0,c.max=!1,a):t>=s?(c.min=!1,c.max=!0,s):(c.min=!1,c.max=!1,t)},m=function(){this.value=p(this.value)},g=["-","+","e","."];n.addEventListener("click",(function(){v("-")})),i.addEventListener("click",(function(){v("+")})),e.addEventListener("input",(function(){u||m()})),e.addEventListener("change",m),e.addEventListener("keydown",(function(t){t.which,g.includes(t.key)&&t.preventDefault()}));c.min?d(!0):c.max&&h(!0)}))}))}(window,document),window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".pd-card__item").forEach((function(t){t.querySelector(".pd-card__img-mask")?t.classList.add("no-hover"):t.classList.remove("no-hover")}))}))}();